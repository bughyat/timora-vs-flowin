<script>
  const langBtns = document.querySelectorAll('.lang-switch button');
  const introRo = document.getElementById('intro-ro');
  const introDe = document.getElementById('intro-de');
  const langField = document.getElementById('langField');
  const form = document.querySelector('form');
  const submitBtn = document.getElementById('submitBtn');
  const submitLabel = document.getElementById('submitLabel');

  const translations = {
    ro: {
      q1: 'Care logo ți se pare mai potrivit?',
      q2: 'De ce ai ales acest logo?',
      q3: 'Care pare mai modern și profesionist?',
      q4: 'Ce impresie îți transmite logo-ul preferat?',
      q5: 'Sugestii de îmbunătățire (opțional)',
      submit: 'Trimite',
      submitting: '⏳ Se trimite...',
      reset: 'Resetează',
      gdpr: 'Trimiterea acestui formular înseamnă că ești de acord ca răspunsurile tale să fie prelucrate pentru analiza preferințelor de brand.',
      success: '✓ Mulțumim! Răspunsul a fost înregistrat cu succes! 🎉',
      error: '⚠ Eroare la trimitere. Te rugăm să încerci din nou.',
      timora: '⏰ Timora PRO',
      flowin: '🌊 Flowin',
      both: 'Ambele',
      none: 'Niciunul',
      modern: '✨ Modern',
      calm: '🧘 Calm',
      elegant: '💎 Elegant',
      dynamic: '⚡ Dinamic',
      tech: '🔧 Tehnologic'
    },
    de: {
      q1: 'Welches Logo passt besser?',
      q2: 'Warum hast du dieses Logo gewählt?',
      q3: 'Welches wirkt moderner und professioneller?',
      q4: 'Welchen Eindruck vermittelt dir dein bevorzugtes Logo?',
      q5: 'Verbesserungsvorschläge (freiwillig)',
      submit: 'Senden',
      submitting: '⏳ Wird gesendet...',
      reset: 'Zurücksetzen',
      gdpr: 'Mit dem Absenden stimmst du zu, dass deine Antworten zur Auswertung der Markenpräferenzen verarbeitet werden.',
      success: '✓ Danke! Deine Antwort wurde erfolgreich gespeichert! 🎉',
      error: '⚠ Fehler beim Senden. Bitte versuche es erneut.',
      timora: '⏰ Timora PRO',
      flowin: '🌊 Flowin',
      both: 'Beide',
      none: 'Keines',
      modern: '✨ Modern',
      calm: '🧘 Ruhig',
      elegant: '💎 Elegant',
      dynamic: '⚡ Dynamisch',
      tech: '🔧 Technisch'
    }
  };

  let currentLang = 'ro';

  function setLang(code) {
    currentLang = code;
    langBtns.forEach(b => b.classList.toggle('active', b.dataset.lang === code));
    introRo.style.display = (code === 'ro') ? '' : 'none';
    introDe.style.display = (code === 'de') ? '' : 'none';
    langField.value = code;

    const t = translations[code];
    document.getElementById('q1-legend').textContent = t.q1;
    document.getElementById('q2-legend').textContent = t.q2;
    document.getElementById('q3-legend').textContent = t.q3;
    document.getElementById('q4-legend').textContent = t.q4;
    document.getElementById('q5-legend').textContent = t.q5;
    submitLabel.textContent = t.submit;
    document.getElementById('resetLabel').textContent = t.reset;
    document.getElementById('gdpr').textContent = t.gdpr;
    
    document.getElementById('lbl-choice-timora').textContent = t.timora;
    document.getElementById('lbl-choice-flowin').textContent = t.flowin;
    document.getElementById('lbl-modern-timora').textContent = t.timora;
    document.getElementById('lbl-modern-flowin').textContent = t.flowin;
    document.getElementById('lbl-modern-both').textContent = t.both;
    document.getElementById('lbl-modern-none').textContent = t.none;
    document.getElementById('lbl-feel-modern').textContent = t.modern;
    document.getElementById('lbl-feel-calm').textContent = t.calm;
    document.getElementById('lbl-feel-elegant').textContent = t.elegant;
    document.getElementById('lbl-feel-dynamic').textContent = t.dynamic;
    document.getElementById('lbl-feel-tech').textContent = t.tech;
  }

  langBtns.forEach(b => b.addEventListener('click', () => setLang(b.dataset.lang)));
  setLang('ro');

  // ✅ CORRECT NETLIFY AJAX SUBMIT
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const t = translations[currentLang];
    submitBtn.disabled = true;
    submitLabel.textContent = t.submitting;
    
    let successMsg = document.getElementById('successMsg');
    if (!successMsg) {
      successMsg = document.createElement('div');
      successMsg.id = 'successMsg';
      successMsg.className = 'success';
      successMsg.style.marginTop = '20px';
      successMsg.style.padding = '14px';
      successMsg.style.borderRadius = '10px';
      successMsg.style.display = 'none';
      successMsg.style.fontWeight = '500';
      form.appendChild(successMsg);
    }
    
    try {
      // ⚠️ IMPORTANT: Encode as form data, not JSON!
      const formData = new FormData(form);
      const formDataObj = {};
      formData.forEach((value, key) => {
        formDataObj[key] = value;
      });
      
      // ✅ CORRECT: Use form action endpoint
      const response = await fetch(form.action || '/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: new URLSearchParams(formDataObj).toString()
      });
      
      // Check response
      if (response.ok || response.status === 200) {
        successMsg.textContent = t.success;
        successMsg.style.display = 'block';
        successMsg.style.background = '#0e2a19';
        successMsg.style.color = '#9ff3c6';
        successMsg.style.border = '1px solid #1d6b49';
        form.reset();
        successMsg.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        
        // Hide after 10 seconds
        setTimeout(() => {
          successMsg.style.display = 'none';
        }, 10000);
      } else {
        throw new Error('Network response was not ok');
      }
    } catch (error) {
      console.error('Submit error:', error);
      successMsg.textContent = t.error;
      successMsg.style.display = 'block';
      successMsg.style.background = '#2a1212';
      successMsg.style.color = '#ffc7c7';
      successMsg.style.border = '1px solid #6b1d1d';
      
      setTimeout(() => {
        successMsg.style.display = 'none';
      }, 5000);
    } finally {
      submitBtn.disabled = false;
      submitLabel.textContent = t.submit;
    }
  });
</script>
```

---

## 🎯 **RECOMANDAREA MEA:**

**FOLOSEȘTE SOLUȚIA 1** (fără AJAX) pentru că:

✅ 100% compatibil Netlify
✅ Zero erori
✅ Professional thank you page
✅ Garantat funcționează
✅ Mai simplu de debug

---

## 📦 **IMPLEMENTARE RAPIDĂ:**

**Structură finală:**
```
site/
├── index.html          (codul de mai sus - fără AJAX)
├── thank-you.html      (pagina de mulțumire)
└── assets/
    └── compare.png
